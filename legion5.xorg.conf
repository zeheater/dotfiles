# nvidia-xconfig: X configuration file generated by nvidia-xconfig
# nvidia-xconfig:  version 450.51


# Explaination #
# Lenovo Legion 5 #
# Laptop main display(LVDS 1) is connected to the integrated Ryzen GPU
# The HDMI output is connected to the discrete NVIDIA GPU

Section "ServerLayout"
    Identifier     "Layout0"
    Screen      0  "Primary"
#    Screen      1  "Extension1" #RightOf "Primary"
    Inactive       "HDMI0"
    InputDevice    "Keyboard0" "CoreKeyboard"
    InputDevice    "Mouse0" "CorePointer"
#    Option         "Xinerama" "1" # Enable Xinerama extension
EndSection

Section "Files"
EndSection

Section "Module"
	Load  "glx"
	Load  "glxserver_nvidia"
EndSection

Section "InputDevice"
    # generated from default
    Identifier     "Mouse0"
    Driver         "synaptics"
    Option         "Protocol" "auto"
    Option         "Device" "/dev/psaux"
#    Option         "Emulate3Buttons" "no"
#    Option         "ZAxisMapping" "4 5"
EndSection

Section "InputDevice"
    # generated from default
    Identifier     "Keyboard0"
    Driver         "kbd"
EndSection

Section "Monitor"
    Identifier     "MainMonitor"
    Option         "Primary" "true"
    Option         "DPMS" "true"
EndSection

Section "Monitor"
    Identifier     "SecondaryMonitor"
    VendorName     "Unknown"
    ModelName      "Unknown"
    Option         "DPMS" "true"
EndSection

Section "Device"
    Identifier     "HDMI0"
    Driver         "nvidia"
    VendorName     "NVIDIA Corporation"
    BusID          "PCI:1:0:0"
EndSection

Section "Screen"
    Identifier     "Extension1"
    Device         "HDMI0"
    Monitor        "SecondaryMonitor"
    DefaultDepth    24
    SubSection     "Display"
        Depth       24
    EndSubSection
EndSection

Section "Device"
    Identifier     "LVDS1"
    Driver         "amdgpu"
    BusID          "PCI:5:0:0"
EndSection

Section "Screen"
    Identifier     "Primary"
    Device         "LVDS1"
    Monitor        "MainMonitor"
    SubSection     "Display"
	Depth       24
    EndSubSection
EndSection
